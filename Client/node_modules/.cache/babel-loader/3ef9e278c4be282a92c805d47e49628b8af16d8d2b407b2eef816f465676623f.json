{"ast":null,"code":"var _jsxFileName = \"/Users/jalpa/Documents/Student _Management_system/student_management/Client/src/screen/leave/LeaveApplication.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from 'react';\nimport Header from '../../components/header/Header';\nimport Navbar from '../../components/navbar/Navbar';\nimport './LeaveApplication.css';\nimport '../../css/common.css';\nimport Input from '../../components/forminput/Input';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { Service } from '../../service/Service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LeaveApplication(props) {\n  _s();\n  const {\n    isLoading,\n    onLoding\n  } = props.loader;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const initialState = {\n    leaveType: '',\n    contact: '',\n    leaveFrom: '',\n    leaveTo: '',\n    reason: ''\n  };\n  const reducerLeave = (state, action) => {\n    switch (action.type) {\n      case 'textInput':\n        return {\n          ...state,\n          [action.payload.key]: action.payload.value\n        };\n      case 'reset':\n        return initialState;\n      default:\n        throw new Error(`Unknown action type: ${action.type}`);\n    }\n  };\n  const [state, dispatch] = useReducer(reducerLeave, initialState);\n  const submitLeave = event => {\n    onLoding(true);\n    event.preventDefault();\n    const data = {\n      \"studentId\": location.state.id,\n      \"leaveType\": state.leaveType,\n      \"leaveFrom\": state.leaveFrom,\n      \"leaveTo\": state.leaveTo,\n      \"reason\": state.reason\n    };\n    Service.post('leaveApplication', data, res => {\n      if (res.code === \"200\") {\n        navigate('/home');\n        dispatch('reset');\n        onLoding(false);\n      } else {\n        onLoding(false);\n        alert(res.message);\n      }\n    }, err => {\n      console.log(err);\n      onLoding(false);\n    });\n  };\n  const days = Math.floor((Date.parse(state.leaveTo) - Date.parse(state.leaveFrom)) / 86400000);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"student-container\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-line\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"leave-app\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Leave Application\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"leave-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leave-field-app\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              title: \"Leave Type\",\n              state: state.leaveType,\n              onDispatch: dispatch,\n              type: \"leaveType\",\n              isType: \"leaveType\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              title: \"Contact Number\",\n              state: state.contact,\n              onDispatch: dispatch,\n              type: \"number\",\n              isType: 'contact'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"leave-field-app\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              title: \"Leave From\",\n              state: state.leaveFrom,\n              onDispatch: dispatch,\n              type: \"date\",\n              isType: \"leaveFrom\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              title: \"Leave To\",\n              state: state.leaveTo,\n              onDispatch: dispatch,\n              type: \"date\",\n              isType: \"leaveTo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reason-area\",\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              title: \"Reason\",\n              state: state.reason,\n              onDispatch: dispatch,\n              type: \"text\",\n              isType: \"reason\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"submit-leave\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Selected Leave Dates: \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: days ? days : 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 38\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: submitLeave,\n            children: \"Submit Application\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(LeaveApplication, \"5vEqU0WpZcNw2Gniofceprm3nWk=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = LeaveApplication;\nexport default LeaveApplication;\nvar _c;\n$RefreshReg$(_c, \"LeaveApplication\");","map":{"version":3,"names":["React","useReducer","Header","Navbar","Input","useLocation","useNavigate","Service","LeaveApplication","props","isLoading","onLoding","loader","navigate","location","initialState","leaveType","contact","leaveFrom","leaveTo","reason","reducerLeave","state","action","type","payload","key","value","Error","dispatch","submitLeave","event","preventDefault","data","id","post","res","code","alert","message","err","console","log","days","Math","floor","Date","parse"],"sources":["/Users/jalpa/Documents/Student _Management_system/student_management/Client/src/screen/leave/LeaveApplication.js"],"sourcesContent":["import React, { useReducer } from 'react'\nimport Header from '../../components/header/Header'\nimport Navbar from '../../components/navbar/Navbar'\nimport './LeaveApplication.css'\nimport '../../css/common.css'\nimport Input from '../../components/forminput/Input'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport { Service } from '../../service/Service'\n\nfunction LeaveApplication(props) {\n  const { isLoading, onLoding } = props.loader\n\n  const navigate = useNavigate()\n  const location = useLocation()\n\n  const initialState = {\n    leaveType: '',\n    contact: '',\n    leaveFrom: '',\n    leaveTo: '',\n    reason: '',\n  }\n  const reducerLeave = (state, action) => {\n    switch (action.type) {\n      case 'textInput':\n        return { ...state, [action.payload.key]: action.payload.value };\n      case 'reset':\n        return initialState\n      default:\n        throw new Error(`Unknown action type: ${action.type}`);\n    }\n  };\n  const [state, dispatch] = useReducer(reducerLeave, initialState);\n\n  const submitLeave = (event) => {\n    onLoding(true)\n    event.preventDefault();\n    const data = {\n      \"studentId\": location.state.id,\n      \"leaveType\": state.leaveType,\n      \"leaveFrom\": state.leaveFrom,\n      \"leaveTo\": state.leaveTo,\n      \"reason\": state.reason\n    }\n    Service.post('leaveApplication', data, (res) => {\n      if (res.code === \"200\") {\n        navigate('/home')\n        dispatch('reset')\n        onLoding(false)\n      }\n      else {\n        onLoding(false)\n        alert(res.message)\n      }\n    },\n      (err) => {\n        console.log(err);\n        onLoding(false)\n      }\n    )\n  }\n  const days = Math.floor((Date.parse(state.leaveTo) - Date.parse(state.leaveFrom)) / 86400000);\n\n\n  return (\n    <div className='student-container'>\n      <Navbar />\n      <div className='home-line' />\n      <Header />\n      <div className='main-content'>\n        <div className='leave-app'>\n          <h3>Leave Application</h3>\n          <form className='leave-form'>\n            {/* <div className='leave-field-app'>\n              <Input title={\"Enrollment No\"} type={\"text\"} />\n              <Input title={\"Email\"} type={\"email\"} />\n            </div> */}\n            <div className='leave-field-app'>\n              <Input title={\"Leave Type\"} state={state.leaveType} onDispatch={dispatch} type={\"leaveType\"} isType={\"leaveType\"} />\n              <Input title={\"Contact Number\"} state={state.contact} onDispatch={dispatch} type={\"number\"} isType={'contact'} />\n            </div>\n            <div className='leave-field-app'>\n              <Input title={\"Leave From\"} state={state.leaveFrom} onDispatch={dispatch} type={\"date\"} isType={\"leaveFrom\"} />\n              <Input title={\"Leave To\"} state={state.leaveTo} onDispatch={dispatch} type={\"date\"} isType={\"leaveTo\"} />\n            </div>\n            <div className='reason-area'>\n              <Input title={\"Reason\"} state={state.reason} onDispatch={dispatch} type={\"text\"} isType={\"reason\"} />\n            </div>\n          </form>\n          <div className='submit-leave'>\n            <p>Selected Leave Dates: <b>{days ? days : 0}</b></p>\n            <button onClick={submitLeave}>Submit Application</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default LeaveApplication"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}