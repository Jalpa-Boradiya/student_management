{"ast":null,"code":"var _jsxFileName = \"/Users/jalpa/Documents/Student _Management_system/student_management/Client/src/screen/login/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useReducer } from 'react';\nimport './Login.css';\nimport { BsPersonFill } from \"react-icons/bs\";\nimport { AiOutlineMail } from 'react-icons/ai';\nimport { RiLockPasswordFill } from 'react-icons/ri';\nimport FormInput from '../../components/forminput/FormInput';\nimport { Service } from '../../service/Service';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login(props) {\n  _s();\n  const {\n    isLoading,\n    onLoding\n  } = props.loader;\n  const initialVal = {\n    email: '',\n    password: ''\n  };\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case 'textInput':\n        return {\n          ...state,\n          [action.payload.key]: action.payload.value\n        };\n      case 'reset':\n        return initialVal;\n      default:\n        throw new Error(`Unknown action type: ${action.type}`);\n    }\n  };\n  const [state, dispatch] = useReducer(reducer, initialVal);\n  const navigate = useNavigate();\n  const login = event => {\n    event.preventDefault();\n    onLoding(true);\n    const data = {\n      \"Email\": state.email,\n      \"Password\": state.password\n    };\n    Service.post('sign_in', 'student', data, res => {\n      if (res.code === \"200\") {\n        localStorage.clear();\n        localStorage.setItem('user', JSON.stringify(res.data[0]));\n        navigate('/home');\n        dispatch({\n          type: 'reset'\n        });\n        onLoding(false);\n      } else {\n        alert(res.message);\n        onLoding(false);\n      }\n    }, err => {\n      console.log(err);\n      onLoding(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loginCal\",\n    \"data-testid\": \"login-test\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loginSubCal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"loginTitle\",\n        children: \"Login Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Login here Using Email & Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: login,\n        children: [/*#__PURE__*/_jsxDEV(FormInput, {\n          state: state.email,\n          isLogin: true,\n          onDispatch: dispatch,\n          type: \"email\",\n          Icon: BsPersonFill\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n          state: state.password,\n          isLogin: true,\n          onDispatch: dispatch,\n          type: \"password\",\n          Icon: RiLockPasswordFill\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"middleCalLogin\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkboxCal\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Remember me\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#top\",\n            className: \"forgot-pass\",\n            children: \"Forgot Password?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login-btn\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"navigate-signup\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Don't have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/signup'),\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"gGiCGIcSYTDI5IPkcZ6sTXvDDY8=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useReducer","BsPersonFill","AiOutlineMail","RiLockPasswordFill","FormInput","Service","useLocation","useNavigate","redirect","Login","props","isLoading","onLoding","loader","initialVal","email","password","reducer","state","action","type","payload","key","value","Error","dispatch","navigate","login","event","preventDefault","data","post","res","code","localStorage","clear","setItem","JSON","stringify","alert","message","err","console","log"],"sources":["/Users/jalpa/Documents/Student _Management_system/student_management/Client/src/screen/login/Login.js"],"sourcesContent":["import React, { useReducer } from 'react'\nimport './Login.css'\nimport { BsPersonFill } from \"react-icons/bs\";\nimport { AiOutlineMail } from 'react-icons/ai'\n\nimport { RiLockPasswordFill } from 'react-icons/ri'\nimport FormInput from '../../components/forminput/FormInput';\nimport { Service } from '../../service/Service';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { redirect } from 'react-router-dom';\n\nfunction Login(props) {\n\n    const { isLoading, onLoding } = props.loader\n\n    const initialVal = {\n        email: '',\n        password: '',\n    }\n   \n    const reducer = (state, action) => {\n        switch (action.type) {\n            case 'textInput':\n                return { ...state, [action.payload.key]: action.payload.value };\n            case 'reset':\n                return initialVal\n            default:\n                throw new Error(`Unknown action type: ${action.type}`);\n        }\n    };\n    const [state, dispatch] = useReducer(reducer, initialVal);\n    const navigate = useNavigate()\n    const login = (event) => {\n        event.preventDefault();\n        onLoding(true)\n        const data = {\n            \"Email\": state.email,\n            \"Password\": state.password\n        }\n        Service.post('sign_in','student', data, (res) => {\n            if (res.code === \"200\") {\n                localStorage.clear();\n                localStorage.setItem('user', JSON.stringify(res.data[0]));\n                navigate('/home')\n                dispatch({ type: 'reset' })\n                onLoding(false)\n            }else{\n                alert(res.message)\n                onLoding(false)\n            }\n        },\n            (err) => {\n                console.log(err);\n                onLoding(false)\n            })\n    }\n    return (\n        <div className='loginCal' data-testid=\"login-test\">\n            <div className='loginSubCal'>\n                <h1 className='loginTitle'>Login Form</h1>\n                <p>Login here Using Email & Password</p>\n                <form onSubmit={login}>\n                    <FormInput state={state.email} isLogin={true} onDispatch={dispatch} type={\"email\"} Icon={BsPersonFill} />\n                    <FormInput state={state.password} isLogin={true} onDispatch={dispatch} type={\"password\"} Icon={RiLockPasswordFill} />\n                    <div className='middleCalLogin'>\n                        <div className='checkboxCal'>\n                            <input type='checkbox' />\n                            <label>Remember me</label>\n                        </div>\n                        <a href='#top' className='forgot-pass'>Forgot Password?</a>\n                    </div>\n                    <button className='login-btn'>Login</button>\n                </form>\n                <div className='navigate-signup'>\n                    <p>Don't have an account?</p>\n                    <button onClick={() => navigate('/signup')}>Signup</button>\n                </div>\n            </div>\n\n        </div>\n    )\n}\n\nexport default Login\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}